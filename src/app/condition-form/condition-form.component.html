<form class="control_form border" [formGroup]="_form">
  <div class="row template_search my-3 text-start">
    <h6 class="col col-2">{{ formLabel }}</h6>
    <nz-select
      class="col col-2"
      nzShowSearch
      nzAllowClear
      formControlName="variable"
      nzPlaceHolder="Select Control"
      [(ngModel)]="selectedValue"
    >
      <nz-option
        *ngFor="let item of items"
        [nzLabel]="item"
        [nzValue]="item"
      ></nz-option>
    </nz-select>
    <div class="col col-8 text-end">
      <button
        nz-button
        nzDanger
        nzType="primary"
        (click)="remove.emit()"
        [nzSize]="'large'"
      >
        -
      </button>
    </div>
    <div *ngFor="let options of checkOptions">
      <label
        nz-checkbox
        *ngIf="selectedValue === 'CheckBoxes'"
        nzValue="{{ options.value }}"
        [(ngModel)]="selectedCheckboxes"
        >{{ options.label }}</label
      >
    </div>
    <!-- <nz-select
      *ngIf="selectedValue === 'Dropdown'"
      [nzPlaceHolder]="'Dropdown Control'"
      [ngModel]="selectedDropdown"
      (ngModelChange)="selectedDropdown = $event"
    >
      <nz-option [nzLabel]="'Option 1'" [nzValue]="'Option 1'"></nz-option>
      <nz-option [nzLabel]="'Option 2'" [nzValue]="'Option 2'"></nz-option>
    </nz-select> -->
    <nz-select *ngIf="selectedValue === 'Dropdown'" nzShowSearch nzAllowClear [nzDropdownRender]="renderTemplate" nzPlaceHolder="custom dropdown render">
      <nz-option *ngFor="let item of listOfItem" [nzLabel]="item" [nzValue]="item"></nz-option>
    </nz-select>
    <ng-template #renderTemplate>
      <nz-divider></nz-divider>
      <div class="container">
        <input type="text" nz-input #inputElement />
        <a class="add-item" (click)="addItem(inputElement)">
          <span nz-icon nzType="plus"></span>
          Add item
        </a>
      </div>
    </ng-template>
  </div>
  <div class="button_bar">
    <button
      nz-button
      nzType="primary"
      (click)="addNewOption()"
      [nzSize]="'large'"
      nzShape="circle"
      *ngIf="selectedValue === 'CheckBoxes'"
    >
      +
    </button>
  </div>
  <div *ngFor="let textInput of textInputs; let i = index">
    <input nz-input type="text" formControlName="{{ textInput.value }}" />
    <button
      nz-button
      nzDanger
      class="check_option"
      nzType="primary"
      (click)="removeTextInput(i)"
      [nzSize]="'small'"
    >
      -
    </button>
  </div>
</form>
